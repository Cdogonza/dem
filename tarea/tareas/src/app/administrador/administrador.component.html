<app-nav></app-nav>


<div style="margin-top: 70px;" class="container ">
  <h1>Administrador</h1>
  <ul class="nav nav-tabs" id="myTab" role="tablist">

    <!--<li class="nav-item" role="presentation">
      <button (click)="todasLasTareasAsignadas()" class="nav-link active" id="home-tab" data-bs-toggle="tab" data-bs-target="#home-tab-pane" type="button"
        role="tab" aria-controls="home-tab-pane" aria-selected="true">Tareas Asignadas Por Jefatura</button>
    </li> -->
    <li class="nav-item" role="presentation">
      <button (click)="verTareasPendientes()" class="nav-link active" id="profile-tab" data-bs-toggle="tab" data-bs-target="#profile-tab-pane" type="button"
       role="tab" aria-controls="profile-tab-pane" aria-selected="true">Tareas Pendientes</button>
    </li>
    <li class="nav-item" role="presentation">
      <button (click)="verTareasCompletas()" class="nav-link" id="contact-tab" data-bs-toggle="tab"
        data-bs-target="#contact-tab-pane" type="button" role="tab" aria-controls="contact-tab-pane"
        aria-selected="false">Tareas Completadas</button>
    </li>
  </ul>
  <!-- TAREAS -->
  <div class="tab-content" id="myTabContent">
    <div class="tab-pane fade show active" id="profile-tab-pane" role="tabpanel" aria-labelledby="profile-tab"
      tabindex="0">
      <div *ngIf="!cartelesTask">
        <h2>No tienes tareas para mostrar!</h2>c
      </div>
      <div class="container mt-5">
        <div class="table-responsive" style="max-height: 70vh; overflow-y: auto;">
        <table class="table table-hover table-bordered table-striped text-center align-middle" style="font-size: 1.1rem;">
          <thead class="table-dark">
            <tr>
              <th scope="col" class="text-nowrap">Fecha</th>
              <th scope="col" class="text-nowrap">Para</th>
              <th scope="col" class="text-nowrap">Tarea</th>
              <th scope="col">Eliminar</th>
              <th scope="col">Comentar</th>
              <th scope="col">Completar</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let item of getTareas" (click)="verComentarios(item.idd)" style="cursor: pointer;" class="table-light">
              <td class="text-nowrap">{{ item.fecha }}</td>
              <td class="text-nowrap">{{ item.jefe }}</td>
              <td class="text-start">{{ item.recordatorio }}</td>
      
              <td>
                <button mat-icon-button (click)="deleteMiasCompletas(item.idd); $event.stopPropagation()" aria-label="Eliminar tarea">
                  <span class="material-icons md-15 text-danger">delete</span>
                </button>
              </td>
              <td>
                <button mat-icon-button (click)="comentarTarea(item.idd); $event.stopPropagation()" aria-label="Comentar tarea">
                  <span class="material-icons md-15 text-primary">add</span>
                </button>
              </td>
              <td>
                <button mat-icon-button (click)="resolverTarea(item.idd); $event.stopPropagation()" aria-label="Resolver tarea">
                  <span class="material-icons md-15 text-primary">check</span>
                </button>
              </td>
            </tr>
          </tbody>
        </table>
        </div>
      </div>
    </div>
    <!-- TAREAS COMPLETADAS -->
    <div class="tab-pane fade" id="contact-tab-pane" role="tabpanel" aria-labelledby="contact-tab" tabindex="0">
        <div *ngIf="!cartelesTaskComplete">
        <h2>No tienes tareas para mostrar!</h2>
        </div>
        <div class="container mt-5">
          <div class="table-responsive" style="max-height: 70vh; overflow-y: auto;">
          <table class="table table-hover table-bordered table-striped text-center align-middle" style="font-size: 1.1rem;">
            <thead class="table-dark">
              <tr>
                <th scope="col" class="text-nowrap">Fecha</th>
                <th scope="col" class="text-nowrap">Para</th>
                <th scope="col" class="text-nowrap">Tarea</th>
                <th scope="col">Eliminar</th>
                <th scope="col">Comentar</th>
        
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let item of getTareasCompletas" (click)="verComentarios(item.idd)" style="cursor: pointer;" class="table-success">
                <td class="text-nowrap">{{ item.fecha }}</td>
                <td class="text-nowrap">{{ item.jefe }}</td>
                <td class="text-start">{{ item.recordatorio }}</td>
        
                <td>
                  <button mat-icon-button (click)="deleteMiasCompletas(item.idd); $event.stopPropagation()" aria-label="Eliminar tarea">
                    <span class="material-icons md-15 text-danger">delete</span>
                  </button>
                </td>
                <td>
                  <button mat-icon-button (click)="comentarTarea(item.idd); $event.stopPropagation()" aria-label="Comentar tarea">
                    <span class="material-icons md-15 text-primary">add</span>
                  </button>
                </td>
               
              </tr>
            </tbody>
          </table>
        </div>
        </div>
    </div>

  </div>
</div>